{"version":3,"sources":["Demo.js","package/index.js","index.js"],"names":["ethUtil","require","web3","window","msg","bufferToHex","Buffer","address","eth","accounts","Demo","props","_this","Object","C_Users_paulg_Documents_polats_react_web3_auth_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_paulg_Documents_polats_react_web3_auth_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_paulg_Documents_polats_react_web3_auth_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleSignature","bind","C_Users_paulg_Documents_polats_react_web3_auth_client_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","web3Login","err","signed","console","log","fetchOpts","method","headers","Content-Type","body","JSON","stringify","fetch","then","res","status","json","Error","statusText","catch","personal","sign","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","onClick","ComponentWithReactWeb3Auth","C_Users_paulg_Documents_polats_react_web3_auth_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_Users_paulg_Documents_polats_react_web3_auth_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_paulg_Documents_polats_react_web3_auth_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","constructor","name","Component","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_Demo__WEBPACK_IMPORTED_MODULE_2__","ReactDOM","render","document","getElementById"],"mappings":"kLAKMA,EAAUC,EAAQ,IAClBC,EAAOC,OAAOD,KAIdE,EAAMJ,EAAQK,YAAY,IAAIC,EADjB,eACoC,SACjDC,EAAUL,EAAKM,IAAIC,SAAS,GAE5BC,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,gBAAkBP,EAAKO,gBAAgBC,KAArBP,OAAAQ,EAAA,EAAAR,CAAAD,IACvBA,EAAKU,UAAYV,EAAKU,UAAUF,KAAfP,OAAAQ,EAAA,EAAAR,CAAAD,IAJAA,+EAOHW,EAAKC,GACnB,IAAKD,EAAK,CACRE,QAAQC,IAAI,UAAWnB,GACvBkB,QAAQC,IAAI,MAAOtB,GACnBqB,QAAQC,IAAI,SAAUF,GAEtB,IAAMG,EAAY,CAChBC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE1B,UAASH,MAAKoB,YAGvCU,MAAM,SAAUP,GAAWQ,KAAK,SAAAC,GAC9B,GAAIA,EAAIC,QAAU,KAAOD,EAAIC,QAAU,IACrC,OAAOD,EAAIE,OAEX,MAAMC,MAAMH,EAAII,cAEjBL,KAAK,SAAAG,GACNb,QAAQC,IAAI,UAAWY,KAEtBG,MAAM,SAAAlB,GACPE,QAAQC,IAAI,SAAUH,0CAQ1BrB,EAAKwC,SAASC,KAAKvC,EAAKG,EAASQ,KAAKI,kDAKtC,OACEyB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,kCAEAF,EAAAC,EAAAC,cAAA,UAAQE,QAASjC,KAAKO,WAAtB,0BA/CW2B,KAwDJvC,4ICnETuC,cAEF,SAAAA,EAAYtC,GAAQ,OAAAE,OAAAqC,EAAA,EAAArC,CAAAE,KAAAkC,GAAApC,OAAAsC,EAAA,EAAAtC,CAAAE,KAAAF,OAAAuC,EAAA,EAAAvC,CAAAoC,GAAA/B,KAAAH,KACZJ,2OAONc,QAAQC,IAAIX,KAAKsC,YAAYC,KAAO,yJAIpC,OAAO,YAd4BC,aAoB1BN,2ECtBfO,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,IAAAO,EAAAP,EAAAK,EAAAC,GAAAE,EAAAR,EAAA,IAIAS,IAASC,OACPN,EAAAf,EAAAC,cAACkB,EAAA,EAAD,MAEIG,SAASC,eAAe","file":"static/js/main.d1cbc022.chunk.js","sourcesContent":["\nimport React from 'react';\n// import ComponentWithReactWeb3Auth from 'react-web3-auth'; // replace './package' with package name when using via npm install\nimport ComponentWithReactWeb3Auth from './package';\n\nconst ethUtil = require('ethereumjs-util');\nconst web3 = window.web3;\n\n// The contents of the message can be anything\nconst rawMessage = 'Some message';\nconst msg = ethUtil.bufferToHex(new Buffer(rawMessage, 'utf8'));\nconst address = web3.eth.accounts[0];\n\nclass Demo extends ComponentWithReactWeb3Auth {\n  constructor(props) {\n    super(props);\n\n    this.handleSignature = this.handleSignature.bind(this);\n    this.web3Login = this.web3Login.bind(this);\n  }\n\n  handleSignature(err, signed) {\n    if (!err) {\n      console.log(\"address\", address);\n      console.log(\"msg\", msg);\n      console.log(\"signed\", signed);\n\n      const fetchOpts = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ address, msg, signed })\n      };\n\n      fetch('/login', fetchOpts).then(res => {\n        if (res.status >= 200 && res.status <= 300) {\n          return res.json();\n        } else {\n          throw Error(res.statusText);\n        }\n      }).then(json => {\n        console.log(\"succeed\", json);\n        // Auth succeeded\n      }).catch(err => {\n        console.log(\"failed\", err);\n        // Auth failed\n      })\n    }\n  };\n\n  web3Login() {\n\n    web3.personal.sign(msg, address, this.handleSignature);\n  }\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>react-web3-auth demo</h1>\n\n        <button onClick={this.web3Login}>Login via Web3</button>\n\n      </div>\n\n\n    );\n  }\n}\n\nexport default Demo;\n","import { Component } from 'react';\n\nclass ComponentWithReactWeb3Auth extends Component {\n\n    constructor(props) {\n      super(props);\n    }\n\n    componentDidUpdate() {\n    }\n\n    async componentDidMount() {\n      console.log(this.constructor.name + \" componentDidMount\");\n    }\n\n    render() {\n      return null;\n    }\n}\n\n\n\nexport default ComponentWithReactWeb3Auth;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Demo from './Demo';\n\nReactDOM.render(\n  <Demo\n    // sampleProp={sampleProp}\n  />, document.getElementById('root'));\n"],"sourceRoot":""}